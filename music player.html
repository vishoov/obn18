<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinite Product Slider</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
  /* Root Variables */
:root {
    --base-100: #000000;
    --base-200: #131313;
    --base-300: #080808;
    --base-400: #808080;
    --base-500: #ffffff;
}

/* Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Body */
body {
    font-family: 'DM Sans', sans-serif;
    background: var(--base-100);
    overflow: hidden;
}

p {
    font-size: 0.875rem;
    font-weight: 500;
    line-height: 1.2;
}

/* Container */
.container {
    position: relative;
    width: 100%;
    height: 100vh;
    overflow: hidden;
}

/* Navigation */
nav {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2rem;
    z-index: 1000;
}

nav .logo,
nav .product-name {
    font-family: 'DM Mono', monospace;
    text-transform: uppercase;
    font-size: 0.875rem;
}

nav .product-name {
    color: var(--base-400);
}

/* Gallery */
.gallery {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100svh;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
}

.products {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 350px;
    height: 350px;
    list-style: none;
}

.products li {
    position: absolute;
    width: 350px;
    height: 350px;
    display: flex;
    justify-content: center;
    align-items: center;
    will-change: transform;
}

.products li img {
    width: 280px;
    height: 280px;
    object-fit: cover;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
}

/* Controller */
.controller {
    position: fixed;
    bottom: 4rem;
    left: 50%;
    transform: translateX(-50%);
    width: 180px;
    height: 180px;
    user-select: none;
    cursor: pointer;
    z-index: 100;
}

.controller-inner {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 50px;
    height: 50px;
    background: var(--base-500);
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    clip-path: circle(50%);
    will-change: clip-path;
    z-index: 2;
}

.close-icon {
    position: absolute;
    width: 0;
    height: 3px;
    background: var(--base-100);
    transform-origin: center;
    transition: width 0.3s ease;
}

.close-icon:nth-child(1) {
    transform: rotate(45deg);
}

.close-icon:nth-child(2) {
    transform: rotate(-45deg);
}

.controller-outer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--base-500);
    border-radius: 50%;
    clip-path: circle(50%);
    will-change: clip-path;
    z-index: 1;
    display: flex;
    justify-content: center;
    align-items: center;
}

.controller-label {
    position: absolute;
    top: 18px;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'DM Mono', monospace;
    text-transform: uppercase;
    color: var(--base-100);
    font-size: 0.65rem;
    font-weight: 600;
    will-change: opacity;
    letter-spacing: 1px;
}

/* Navigation Buttons */
.controller-outer button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    color: var(--base-100);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    cursor: pointer;
    will-change: opacity;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    transition: all 0.3s ease;
}

.btn-prev {
    left: 8px;
}

.btn-next {
    right: 8px;
}

.controller-outer button:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-50%) scale(1.1);
}

.controller-outer button:disabled {
    opacity: 0.3;
    pointer-events: none;
}

/* Product Banner */
.product-banner {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    opacity: 0;
}

.product-banner img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    scale: 1.1;
}

/* Product Preview Modal */
.product-preview {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, 100vh);
    width: 35%;
    height: 80%;
    padding: 2.5rem;
    background: rgba(1, 1, 1, 0.9);
    backdrop-filter: blur(25px);
    border-radius: 20px;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    z-index: 50;
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
}

.preview-info {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.preview-name {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--base-500);
}

.preview-tag {
    padding: 0.4rem 0.9rem;
    background: var(--base-500);
    color: var(--base-100);
    border-radius: 20px;
    font-family: 'DM Mono', monospace;
    text-transform: uppercase;
    font-size: 0.65rem;
    font-weight: 600;
    white-space: nowrap;
}

.preview-image {
    width: 100%;
    aspect-ratio: 1;
    border-radius: 16px;
    background: var(--base-100);
    overflow: hidden;
    flex-grow: 1;
}

.preview-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.preview-button {
    width: 100%;
    padding: 1rem;
    background: var(--base-500);
    border-radius: 12px;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all 0.3s ease;
}

.preview-button:hover {
    background: var(--base-400);
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

.preview-button a {
    color: var(--base-100);
    text-decoration: none;
    font-weight: 600;
    font-size: 0.95rem;
    letter-spacing: 0.5px;
}

/* Responsive */
@media (max-width: 1200px) {
    .product-preview {
        width: 45%;
    }
}

@media (max-width: 768px) {
    nav {
        padding: 1.5rem;
    }

    nav .logo,
    nav .product-name {
        font-size: 0.75rem;
    }

    .products {
        width: 280px;
        height: 280px;
    }

    .products li {
        width: 280px;
        height: 280px;
    }

    .products li img {
        width: 230px;
        height: 230px;
    }

    .controller {
        width: 140px;
        height: 140px;
        bottom: 2rem;
    }

    .controller-outer button {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
    }

    .product-preview {
        width: 90%;
        padding: 2rem;
        gap: 1.5rem;
    }

    .preview-name {
        font-size: 1.1rem;
    }
}

    </style>
</head>
<body>
    <div class="container">
        <nav>
            <div class="logo">BRAND</div>
            <div class="product-name">Product Name</div>
        </nav>

        <section class="gallery">
            <ul class="products"></ul>

            <div class="controller">
                <div class="controller-inner">
                    <span class="close-icon"></span>
                    <span class="close-icon"></span>
                </div>
                <div class="controller-outer">
                    <p class="controller-label">MENU</p>
                    <button class="btn-prev">
                        <ion-icon name="chevron-back-outline"></ion-icon>
                    </button>
                    <button class="btn-next">
                        <ion-icon name="chevron-forward-outline"></ion-icon>
                    </button>
                </div>
            </div>
        </section>

        <div class="product-banner">
            <img src="" alt="">
        </div>

        <div class="product-preview">
            <div class="preview-info">
                <p class="preview-name">Product Name</p>
                <span class="preview-tag">Category</span>
            </div>
            <div class="preview-image">
                <img src="" alt="">
            </div>
            <div class="preview-button">
                <a href="#" target="_blank">View Details</a>
            </div>
        </div>
    </div>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
  const products = [
    {
        name: 'Wireless Headphones',
        image: 'https://picsum.photos/300/300?random=1',
        price: '$99',
        tag: 'Audio',
        url: '#product-1'
    },
    {
        name: 'Smart Watch',
        image: 'https://picsum.photos/300/300?random=2',
        price: '$199',
        tag: 'Wearables',
        url: '#product-2'
    },
    {
        name: 'Laptop Stand',
        image: 'https://picsum.photos/300/300?random=3',
        price: '$49',
        tag: 'Accessories',
        url: '#product-3'
    },
    {
        name: 'Mechanical Keyboard',
        image: 'https://picsum.photos/300/300?random=4',
        price: '$129',
        tag: 'Peripherals',
        url: '#product-4'
    },
    {
        name: 'USB-C Hub',
        image: 'https://picsum.photos/300/300?random=5',
        price: '$59',
        tag: 'Accessories',
        url: '#product-5'
    },
    {
        name: 'Wireless Mouse',
        image: 'https://picsum.photos/300/300?random=6',
        price: '$39',
        tag: 'Peripherals',
        url: '#product-6'
    },
    {
        name: 'Monitor',
        image: 'https://picsum.photos/300/300?random=7',
        price: '$299',
        tag: 'Display',
        url: '#product-7'
    },
    {
        name: 'Desk Lamp',
        image: 'https://picsum.photos/300/300?random=8',
        price: '$79',
        tag: 'Lighting',
        url: '#product-8'
    }
];





const productsContainer = document.querySelector('.products');
const navProductName = document.querySelector('nav .product-name');
const previewName = document.querySelector('.preview-name');
const previewImage = document.querySelector('.preview-image img');
const previewTag = document.querySelector('.preview-tag');
const previewButton = document.querySelector('.preview-button a');
const productBanner = document.querySelector('.product-banner');
const bannerImage = document.querySelector('.product-banner img');
const controllerInner = document.querySelector('.controller-inner');
const controllerOuter = document.querySelector('.controller-outer');
const closeIcons = document.querySelectorAll('.close-icon');
const controllerLabel = document.querySelector('.controller-label');
const btnPrev = document.querySelector('.btn-prev');
const btnNext = document.querySelector('.btn-next');
const productPreview = document.querySelector('.product-preview');

let currentProductIndex = 0;
let slideItems = [];
let isPreviewAnimating = false;
let isPreviewOpen = false;

const BUFFER_SIZE = 5;
const ITEM_WIDTH = 200;
const GAP = 205;

function addSlideItem(relativeIndex) {
    const productIndex = (currentProductIndex + relativeIndex + products.length) % products.length;
    const product = products[productIndex];
    
    const li = document.createElement('li');
    li.innerHTML = `<img src="${product.image}" alt="${product.name}">`;
    li.setAttribute('data-relative-index', relativeIndex);
    
    gsap.set(li, {
        x: relativeIndex * (ITEM_WIDTH + GAP),
        opacity: Math.abs(relativeIndex) === 0 ? 1 : 0.5,
        scale: relativeIndex === 0 ? 1 : 0.8
    });
    
    if (relativeIndex === 0) {
        li.classList.add('active');
    }
    
    productsContainer.appendChild(li);
    slideItems.push({ element: li, relativeIndex });
}

function removeSlideItem(relativeIndex) {
    const item = slideItems.find(item => item.relativeIndex === relativeIndex);
    if (item) {
        item.element.remove();
        slideItems = slideItems.filter(i => i !== item);
    }
}

function updateSliderPosition() {
    slideItems.forEach(item => {
        const isActive = item.relativeIndex === 0;
        gsap.to(item.element, {
            x: item.relativeIndex * (ITEM_WIDTH + GAP),
            scale: isActive ? 1 : 0.8,
            opacity: isActive ? 1 : 0.5,
            duration: 0.75,
            ease: 'power3.out'
        });
    });
}

function updateProductName() {
    const index = (currentProductIndex + products.length) % products.length;
    navProductName.textContent = products[index].name;
}

function updatePreviewContent() {
    const index = (currentProductIndex + products.length) % products.length;
    const product = products[index];
    
    previewName.textContent = product.name;
    previewImage.src = product.image;
    previewImage.alt = product.name;
    previewTag.textContent = product.tag;
    previewButton.href = product.url;
    bannerImage.src = product.image;
}

function moveNext() {
    if (isPreviewAnimating || isPreviewOpen) return;
    
    currentProductIndex++;
    
    removeSlideItem(-BUFFER_SIZE);
    slideItems.forEach(item => {
        item.relativeIndex--;
        item.element.setAttribute('data-relative-index', item.relativeIndex);
    });
    addSlideItem(BUFFER_SIZE);
    
    updateSliderPosition();
    updateProductName();
    updatePreviewContent();
}

function movePrevious() {
    if (isPreviewAnimating || isPreviewOpen) return;
    
    currentProductIndex--;
    
    removeSlideItem(BUFFER_SIZE);
    slideItems.forEach(item => {
        item.relativeIndex++;
        item.element.setAttribute('data-relative-index', item.relativeIndex);
    });
    addSlideItem(-BUFFER_SIZE);
    
    updateSliderPosition();
    updateProductName();
    updatePreviewContent();
}

function updateButtonStates() {
    if (isPreviewAnimating || isPreviewOpen) {
        btnPrev.disabled = true;
        btnNext.disabled = true;
    } else {
        btnPrev.disabled = false;
        btnNext.disabled = false;
    }
}

function getActiveSlide() {
    return slideItems.find(item => item.relativeIndex === 0);
}

function animateSideItems(hide = true) {
    const activeSlide = getActiveSlide();
    
    slideItems.forEach(item => {
        const distance = Math.abs(item.relativeIndex);
        
        if (distance === 1 || distance === 2) {
            gsap.to(item.element, {
                x: hide ? item.relativeIndex * (ITEM_WIDTH + GAP) * 1.5 : item.relativeIndex * (ITEM_WIDTH + GAP),
                opacity: hide ? 0 : 0.5,
                duration: 0.6,
                ease: 'power3.out'
            });
        }
        
        if (item === activeSlide) {
            gsap.to(item.element, {
                scale: hide ? 0.8 : 1,
                opacity: hide ? 0 : 1,
                duration: 0.6,
                ease: 'power3.out'
            });
        }
    });
}

function animateControllerTransition(opening = true) {
    const timeline = gsap.timeline();
    
    timeline.to([controllerLabel, btnPrev, btnNext], {
        opacity: opening ? 0 : 1,
        duration: 0.3
    });
    
    timeline.to(controllerOuter, {
        clipPath: opening ? 'circle(0%)' : 'circle(50%)',
        duration: 0.5,
        ease: 'power3.inOut'
    }, '<');
    
    timeline.to(controllerInner, {
        clipPath: opening ? 'circle(60%)' : 'circle(50%)',
        duration: 0.5,
        ease: 'power3.inOut'
    }, '<');
    
    if (opening) {
        timeline.to(closeIcons[0], {
            width: 20,
            duration: 0.3
        });
        timeline.to(closeIcons[1], {
            width: 20,
            duration: 0.3
        }, '<0.1');
    } else {
        timeline.to(closeIcons, {
            width: 0,
            duration: 0.3
        });
    }
}

function togglePreview() {
    if (isPreviewAnimating) return;
    
    isPreviewAnimating = true;
    updateButtonStates();
    
    if (!isPreviewOpen) {
        updatePreviewContent();
    }
    
    gsap.to(productPreview, {
        y: isPreviewOpen ? '100vh' : '-50%',
        duration: 0.8,
        ease: 'power3.inOut'
    });
    
    gsap.to(productBanner, {
        opacity: isPreviewOpen ? 0 : 0.3,
        duration: 0.6,
        delay: 0.2
    });
    
    animateSideItems(!isPreviewOpen);
    animateControllerTransition(!isPreviewOpen);
    
    setTimeout(() => {
        isPreviewAnimating = false;
        isPreviewOpen = !isPreviewOpen;
        updateButtonStates();
    }, 800);
}

function initializeSlider() {
    for (let i = -BUFFER_SIZE; i <= BUFFER_SIZE; i++) {
        addSlideItem(i);
    }
    
    updateSliderPosition();
    updateProductName();
    updatePreviewContent();
    updateButtonStates();
    
    btnPrev.addEventListener('click', movePrevious);
    btnNext.addEventListener('click', moveNext);
    controllerInner.addEventListener('click', togglePreview);
}

initializeSlider();


    </script>
</body>
</html>
